# Starlogue ë„ë©”ì¸ ì„¤ê³„ (ìµœì¢…)

---

## ì „ì²´ ë„ë©”ì¸ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Core Domain                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      1:N      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   User   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   StudyDay   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Session  â”‚ â”‚
â”‚  â”‚  (íšŒì›)   â”‚               â”‚  (í•˜ë£¨=ë³„)    â”‚              â”‚  (ì„¸ì…˜)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                        â”‚       â”‚
â”‚       â”‚ 1:1                                                    â”‚ 1:1   â”‚
â”‚       â–¼                                                        â–¼       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Character â”‚                                             â”‚   Bet    â”‚ â”‚
â”‚  â”‚ (ìºë¦­í„°)  â”‚                                             â”‚  (ë² íŒ…)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚       â”‚
â”‚                                                                â”‚ 0..1  â”‚
â”‚                                                                â–¼       â”‚
â”‚                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                           â”‚ Penalty  â”‚ â”‚
â”‚                                                           â”‚ (í‘ì—­ì‚¬)  â”‚ â”‚
â”‚                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Visualization Domain                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      N:N      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Star   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Constellation â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Galaxy   â”‚ â”‚
â”‚  â”‚(ë³„/ë¸”ë™í™€) â”‚               â”‚   (ë³„ìë¦¬)     â”‚            â”‚  (ì€í•˜ìˆ˜)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. User (Aggregate Root)

```java
public class User {
    private UserId id;
    private String nickname;
    private String email;
    private Level level;
    private ExperiencePoint exp;
    private Instant createdAt;
    
    public void gainExp(int amount) {
        this.exp = this.exp.add(amount);
        checkLevelUp();
    }
    
    private void checkLevelUp() {
        while (exp.canLevelUp(level)) {
            this.level = level.next();
            // LevelUpEvent ë°œí–‰
        }
    }
}

public record Level(int value) {
    public Level next() {
        return new Level(value + 1);
    }
    
    public int requiredExp() {
        return value * 100;  // ë ˆë²¨ Ã— 100 ê²½í—˜ì¹˜ í•„ìš”
    }
}

public record ExperiencePoint(long value) {
    public ExperiencePoint add(int amount) {
        return new ExperiencePoint(value + amount);
    }
    
    public boolean canLevelUp(Level currentLevel) {
        return value >= currentLevel.requiredExp();
    }
}
```

---

## 2. Session (Aggregate Root)

```java
public class Session {
    private SessionId id;
    private UserId userId;
    private StudyDayId studyDayId;
    
    // === ì„¸ì…˜ ì„¤ì • ===
    private Pledge pledge;
    private Duration targetDuration;
    private Set<Tag> tags;
    
    // === ë² íŒ… ===
    private Bet bet;
    
    // === ìƒíƒœ ===
    private SessionStatus status;
    private Instant startedAt;
    private Instant endedAt;
    
    // === ìì› ===
    private Stamina stamina;
    private FocusGauge focusGauge;
    
    // === ì¤‘ë‹¨ ê¸°ë¡ ===
    private List<Interruption> interruptions;
    
    // === ì—°ì† ì§‘ì¤‘ ì¶”ì  ===
    private Instant currentFocusStartedAt;
    
    // ============================================
    //                 Factory
    // ============================================
    
    public static Session start(
            UserId userId,
            StudyDayId studyDayId,
            Pledge pledge,
            Duration targetDuration,
            Set<Tag> tags
    ) {
        Session session = new Session();
        session.id = SessionId.generate();
        session.userId = userId;
        session.studyDayId = studyDayId;
        session.pledge = pledge;
        session.targetDuration = targetDuration;
        session.tags = new HashSet<>(tags);
        session.bet = Bet.create(targetDuration, pledge.content());
        session.status = SessionStatus.ACTIVE;
        session.startedAt = Instant.now();
        session.stamina = Stamina.full();
        session.focusGauge = FocusGauge.create(targetDuration);
        session.interruptions = new ArrayList<>();
        session.currentFocusStartedAt = session.startedAt;
        
        return session;
    }
    
    // ============================================
    //                 Commands
    // ============================================
    
    /**
     * ì¤‘ë‹¨ (Stop ë²„íŠ¼)
     */
    public Interruption pause(InterruptionReason reason) {
        validateActive();
        
        Instant now = Instant.now();
        
        // í˜„ì¬ê¹Œì§€ ì—°ì† ì§‘ì¤‘ ì‹œê°„ì„ ê²Œì´ì§€ì— ë°˜ì˜
        Duration continuousFocus = Duration.between(currentFocusStartedAt, now);
        focusGauge.recordFocusPeriod(continuousFocus);
        
        this.status = SessionStatus.PAUSED;
        
        return Interruption.start(this.id, reason, now);
    }
    
    /**
     * ì¬ê°œ (Resume ë²„íŠ¼)
     */
    public void resume(Interruption interruption) {
        validatePaused();
        
        Instant now = Instant.now();
        Duration interruptionDuration = interruption.complete(now);
        
        // ìŠ¤íƒœë¯¸ë‚˜ ì†Œëª¨
        int consumed = stamina.consume(
            interruption.getReason(),
            interruptionDuration,
            targetDuration
        );
        
        interruption.recordStaminaConsumed(consumed, stamina.getPercentage());
        this.interruptions.add(interruption);
        
        // ì—°ì† ì§‘ì¤‘ ì‹œê°„ ë¦¬ì…‹
        this.currentFocusStartedAt = now;
        this.status = SessionStatus.ACTIVE;
    }
    
    /**
     * ì„¸ì…˜ ì™„ë£Œ
     */
    public SessionResult complete() {
        Instant now = Instant.now();
        
        // ë§ˆì§€ë§‰ ì—°ì† ì§‘ì¤‘ ì‹œê°„ ë°˜ì˜
        if (status == SessionStatus.ACTIVE) {
            Duration finalFocus = Duration.between(currentFocusStartedAt, now);
            focusGauge.recordFocusPeriod(finalFocus);
        }
        
        this.endedAt = now;
        this.status = SessionStatus.COMPLETED;
        
        // ë² íŒ… ì‹¬íŒ
        Duration actualFocusTime = calculateActualFocusTime();
        BetResult betResult = judgeBet(actualFocusTime);
        
        // ê²½í—˜ì¹˜ ê³„ì‚°
        int baseExp = (int) actualFocusTime.toMinutes();
        int winBonus = betResult == BetResult.WIN ? 100 : 0;
        int focusBonus = focusGauge.qualifiesForBonus() ? 50 : 0;
        
        return new SessionResult(
            this.id,
            betResult,
            actualFocusTime,
            stamina.getPercentage(),
            focusGauge.getPercentage(),
            focusGauge.getLongestContinuousFocus(),
            baseExp + winBonus + focusBonus,
            focusBonus > 0
        );
    }
    
    /**
     * ì„¸ì…˜ í¬ê¸°
     */
    public SessionResult abandon() {
        Instant now = Instant.now();
        
        if (status == SessionStatus.ACTIVE) {
            Duration finalFocus = Duration.between(currentFocusStartedAt, now);
            focusGauge.recordFocusPeriod(finalFocus);
        }
        
        this.endedAt = now;
        this.status = SessionStatus.ABANDONED;
        this.bet.lose("ì„¸ì…˜ í¬ê¸°");
        
        Duration actualFocusTime = calculateActualFocusTime();
        int baseExp = (int) (actualFocusTime.toMinutes() * 0.5);  // í¬ê¸° ì‹œ 50%ë§Œ
        
        return new SessionResult(
            this.id,
            BetResult.LOSE,
            actualFocusTime,
            stamina.getPercentage(),
            focusGauge.getPercentage(),
            focusGauge.getLongestContinuousFocus(),
            baseExp,
            false
        );
    }
    
    // ============================================
    //              Private Methods
    // ============================================
    
    private BetResult judgeBet(Duration actualFocusTime) {
        boolean timeAchieved = actualFocusTime.compareTo(targetDuration) >= 0;
        boolean staminaSufficient = stamina.canWinBet();
        
        if (timeAchieved && staminaSufficient) {
            bet.win();
            return BetResult.WIN;
        } else {
            String reason = !staminaSufficient ? "ìŠ¤íƒœë¯¸ë‚˜ ê³ ê°ˆ" : "ëª©í‘œ ì‹œê°„ ë¯¸ë‹¬";
            bet.lose(reason);
            return BetResult.LOSE;
        }
    }
    
    private Duration calculateActualFocusTime() {
        Duration totalInterruption = interruptions.stream()
            .map(Interruption::getDuration)
            .reduce(Duration.ZERO, Duration::plus);
        
        Duration totalElapsed = Duration.between(startedAt, endedAt);
        return totalElapsed.minus(totalInterruption);
    }
    
    private void validateActive() {
        if (status != SessionStatus.ACTIVE) {
            throw new IllegalStateException("í™œì„± ìƒíƒœì—ì„œë§Œ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
        }
    }
    
    private void validatePaused() {
        if (status != SessionStatus.PAUSED) {
            throw new IllegalStateException("ì¼ì‹œì •ì§€ ìƒíƒœì—ì„œë§Œ ì¬ê°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
        }
    }
}

public enum SessionStatus {
    ACTIVE,      // ì§‘ì¤‘ ì¤‘
    PAUSED,      // ì¼ì‹œ ì¤‘ë‹¨
    COMPLETED,   // ì •ìƒ ì™„ë£Œ
    ABANDONED    // í¬ê¸°
}
```

---

## 3. Stamina (Value Object)

```java
/**
 * ìŠ¤íƒœë¯¸ë‚˜ - ì„¸ì…˜ ìƒì¡´ ìì›
 * 
 * - ì„¸ì…˜ ì‹œì‘ ì‹œ 100%
 * - ì¤‘ë‹¨ ì‹œ ì†Œëª¨ (ì„¸ì…˜ ì‹œê°„ ë¹„ë¡€ë¡œ ê³„ì‚°)
 * - 0%ê°€ ë˜ë©´ ë² íŒ… ì‹¤íŒ¨ í™•ì • (ì„¸ì…˜ì€ ê³„ì† ê°€ëŠ¥)
 */
public class Stamina {
    private static final int MAX = 100;
    private static final int MIN_FOR_WIN = 1;
    
    private int currentValue;
    
    private Stamina(int value) {
        this.currentValue = value;
    }
    
    public static Stamina full() {
        return new Stamina(MAX);
    }
    
    /**
     * ìŠ¤íƒœë¯¸ë‚˜ ì†Œëª¨
     * 
     * ê³µì‹: ê¸°ë³¸ë¹„ìš© Ã— (ì¤‘ë‹¨ì‹œê°„ / ëª©í‘œì„¸ì…˜ì‹œê°„) Ã— 100
     * â†’ ê¸´ ì„¸ì…˜ì¼ìˆ˜ë¡ ê°™ì€ ì¤‘ë‹¨ì— ê´€ëŒ€í•¨
     */
    public int consume(
            InterruptionReason reason,
            Duration interruptionDuration,
            Duration targetSessionDuration
    ) {
        double baseCost = reason.getBaseCostRatio();
        double timeFactor = (double) interruptionDuration.toSeconds() 
                          / targetSessionDuration.toSeconds();
        
        int cost = (int) Math.ceil(baseCost * timeFactor * 100);
        int actualCost = Math.min(cost, currentValue);
        
        this.currentValue = Math.max(0, currentValue - cost);
        
        return actualCost;
    }
    
    public boolean canWinBet() {
        return currentValue >= MIN_FOR_WIN;
    }
    
    public boolean isDepleted() {
        return currentValue <= 0;
    }
    
    public int getPercentage() {
        return currentValue;
    }
}
```

---

## 4. FocusGauge (Value Object)

```java
/**
 * ì§‘ì¤‘ ê²Œì´ì§€ - ì—°ì† ì§‘ì¤‘ í’ˆì§ˆ ì¸¡ì •
 * 
 * - ì„¸ì…˜ ì‹œì‘ ì‹œ 0%
 * - ì¤‘ë‹¨ ì—†ì´ ì—°ì† ì§‘ì¤‘í•œ ìµœì¥ ì‹œê°„ìœ¼ë¡œ ê³„ì‚°
 * - 70% ì´ìƒ ë‹¬ì„± ì‹œ ë³´ë„ˆìŠ¤ ê²½í—˜ì¹˜
 */
public class FocusGauge {
    private static final int BONUS_THRESHOLD = 70;
    
    private final Duration targetSessionDuration;
    private Duration longestContinuousFocus;
    
    private FocusGauge(Duration targetDuration) {
        this.targetSessionDuration = targetDuration;
        this.longestContinuousFocus = Duration.ZERO;
    }
    
    public static FocusGauge create(Duration targetDuration) {
        return new FocusGauge(targetDuration);
    }
    
    /**
     * ì§‘ì¤‘ êµ¬ê°„ ê¸°ë¡
     * ìµœì¥ ê¸°ë¡ë³´ë‹¤ ê¸¸ë©´ ê°±ì‹ 
     */
    public void recordFocusPeriod(Duration focusDuration) {
        if (focusDuration.compareTo(longestContinuousFocus) > 0) {
            this.longestContinuousFocus = focusDuration;
        }
    }
    
    /**
     * ê²Œì´ì§€ í¼ì„¼íŠ¸ = (ìµœì¥ ì—°ì† ì§‘ì¤‘ / ëª©í‘œ ì‹œê°„) Ã— 100
     * ìµœëŒ€ 100%
     */
    public int getPercentage() {
        if (targetSessionDuration.isZero()) return 0;
        
        double ratio = (double) longestContinuousFocus.toSeconds() 
                     / targetSessionDuration.toSeconds();
        
        return (int) Math.min(100, ratio * 100);
    }
    
    public boolean qualifiesForBonus() {
        return getPercentage() >= BONUS_THRESHOLD;
    }
    
    public Duration getLongestContinuousFocus() {
        return longestContinuousFocus;
    }
}
```

---

## 5. Interruption (Entity)

```java
/**
 * ì¤‘ë‹¨ ê¸°ë¡
 */
public class Interruption {
    private InterruptionId id;
    private SessionId sessionId;
    private InterruptionReason reason;
    private Instant stoppedAt;
    private Instant resumedAt;
    private Duration duration;
    private int staminaConsumed;
    private int staminaAfter;
    
    public static Interruption start(
            SessionId sessionId,
            InterruptionReason reason,
            Instant stoppedAt
    ) {
        Interruption interruption = new Interruption();
        interruption.id = InterruptionId.generate();
        interruption.sessionId = sessionId;
        interruption.reason = reason;
        interruption.stoppedAt = stoppedAt;
        return interruption;
    }
    
    public Duration complete(Instant resumedAt) {
        this.resumedAt = resumedAt;
        this.duration = Duration.between(stoppedAt, resumedAt);
        return this.duration;
    }
    
    public void recordStaminaConsumed(int consumed, int after) {
        this.staminaConsumed = consumed;
        this.staminaAfter = after;
    }
    
    // Getters
    public InterruptionReason getReason() { return reason; }
    public Duration getDuration() { return duration; }
}
```

---

## 6. InterruptionReason (Enum)

```java
/**
 * ì¤‘ë‹¨ ì‚¬ìœ 
 * 
 * baseCostRatio: ê¸°ì¤€ ì„¸ì…˜(ëª©í‘œì‹œê°„=ì¤‘ë‹¨ì‹œê°„) ëŒ€ë¹„ ì†Œëª¨ ë¹„ìœ¨
 */
public enum InterruptionReason {
    TOILET(0.05, "í™”ì¥ì‹¤"),           // ê°€ì¥ ê´€ëŒ€
    REST(0.10, "íœ´ì‹"),
    INTERFERENCE(0.15, "ì™¸ë¶€ ë°©í•´"),
    DISTRACTION(0.25, "ë”´ì§“");        // ê°€ì¥ ì—„ê²©
    
    private final double baseCostRatio;
    private final String displayName;
    
    InterruptionReason(double baseCostRatio, String displayName) {
        this.baseCostRatio = baseCostRatio;
        this.displayName = displayName;
    }
    
    public double getBaseCostRatio() {
        return baseCostRatio;
    }
    
    public String getDisplayName() {
        return displayName;
    }
}
```

---

## 7. Bet (Entity)

```java
/**
 * ë² íŒ… - ì„¸ì…˜ê³¼ 1:1
 */
public class Bet {
    private BetId id;
    private Duration targetDuration;
    private String pledgeContent;
    private BetResult result;
    private String failReason;
    private Instant judgedAt;
    
    public static Bet create(Duration targetDuration, String pledgeContent) {
        Bet bet = new Bet();
        bet.id = BetId.generate();
        bet.targetDuration = targetDuration;
        bet.pledgeContent = pledgeContent;
        bet.result = BetResult.PENDING;
        return bet;
    }
    
    public void win() {
        this.result = BetResult.WIN;
        this.judgedAt = Instant.now();
    }
    
    public void lose(String reason) {
        this.result = BetResult.LOSE;
        this.failReason = reason;
        this.judgedAt = Instant.now();
    }
    
    // Getters
    public BetResult getResult() { return result; }
    public String getPledgeContent() { return pledgeContent; }
    public String getFailReason() { return failReason; }
}

public enum BetResult {
    PENDING,
    WIN,
    LOSE
}
```

---

## 8. SessionResult (Value Object)

```java
/**
 * ì„¸ì…˜ ì™„ë£Œ ê²°ê³¼
 */
public record SessionResult(
    SessionId sessionId,
    BetResult betResult,
    Duration actualFocusTime,
    int finalStaminaPercent,
    int finalGaugePercent,
    Duration longestContinuousFocus,
    int totalExp,
    boolean receivedFocusBonus
) {
    public boolean shouldCreatePenalty() {
        return betResult == BetResult.LOSE;
    }
    
    public StarType determineStarType() {
        if (betResult == BetResult.LOSE) {
            return StarType.BLACKHOLE;
        }
        if (finalGaugePercent >= 90 && actualFocusTime.toHours() >= 2) {
            return StarType.SUPERNOVA;
        }
        return StarType.SHINING_STAR;
    }
}
```

---

## 9. Pledge (Value Object)

```java
/**
 * ë‹¤ì§
 */
public record Pledge(
    String content,
    Instant createdAt
) {
    public Pledge {
        if (content == null || content.isBlank()) {
            throw new IllegalArgumentException("ë‹¤ì§ ë‚´ìš©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.");
        }
        if (content.length() > 500) {
            throw new IllegalArgumentException("ë‹¤ì§ì€ 500ìë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
    }
    
    public static Pledge of(String content) {
        return new Pledge(content, Instant.now());
    }
}
```

---

## 10. Tag (Entity)

```java
/**
 * íƒœê·¸ (ê³¼ëª©) - ë³„ì˜ ìƒ‰ê¹”
 */
public class Tag {
    private TagId id;
    private UserId userId;
    private String name;
    private String colorHex;
    
    public static Tag create(UserId userId, String name, String colorHex) {
        Tag tag = new Tag();
        tag.id = TagId.generate();
        tag.userId = userId;
        tag.name = name;
        tag.colorHex = colorHex;
        return tag;
    }
}
```

---

## 11. StudyDay (Aggregate Root)

```java
/**
 * í•˜ë£¨ - ë³„ì˜ ì›ì²œ
 */
public class StudyDay {
    private StudyDayId id;
    private UserId userId;
    private LocalDate date;
    
    // === ì„¸ì…˜ ì°¸ì¡° ===
    private List<SessionId> sessionIds;
    
    // === ì§‘ê³„ ë°ì´í„° ===
    private Duration totalFocusTime;
    private int totalSessions;
    private int winCount;
    private int loseCount;
    
    // === ë³„ ì •ë³´ ===
    private StarType starType;
    private Set<String> tagColors;
    
    // === Streak ===
    private boolean streakContinued;
    private int currentStreak;
    
    // === í•˜ì´ë¼ì´íŠ¸ ===
    private DailyHighlight highlight;
    
    public static StudyDay create(UserId userId, LocalDate date) {
        StudyDay day = new StudyDay();
        day.id = StudyDayId.generate();
        day.userId = userId;
        day.date = date;
        day.sessionIds = new ArrayList<>();
        day.totalFocusTime = Duration.ZERO;
        day.totalSessions = 0;
        day.winCount = 0;
        day.loseCount = 0;
        day.tagColors = new HashSet<>();
        return day;
    }
    
    public void addSessionResult(SessionResult result, Set<String> colors) {
        this.sessionIds.add(result.sessionId());
        this.totalFocusTime = totalFocusTime.plus(result.actualFocusTime());
        this.totalSessions++;
        this.tagColors.addAll(colors);
        
        if (result.betResult() == BetResult.WIN) {
            winCount++;
        } else {
            loseCount++;
        }
        
        recalculateStarType();
    }
    
    private void recalculateStarType() {
        if (loseCount > winCount) {
            this.starType = StarType.BLACKHOLE;
        } else if (totalFocusTime.toHours() >= 4 && winCount >= 3) {
            this.starType = StarType.SUPERNOVA;
        } else {
            this.starType = StarType.SHINING_STAR;
        }
    }
    
    public void finalize(DailyHighlight highlight, boolean streakContinued, int currentStreak) {
        this.highlight = highlight;
        this.streakContinued = streakContinued;
        this.currentStreak = currentStreak;
    }
}

public enum StarType {
    SHINING_STAR,   // ì¼ë°˜ ì„±ê³µ
    SUPERNOVA,      // ëŒ€ì„±ê³µ (ì´ˆì‹ ì„±)
    BLACKHOLE,      // ì‹¤íŒ¨
    METEORITE       // ë¶€ë¶„ ì‹¤íŒ¨ (ì°¨ê°€ìš´ ìš´ì„)
}
```

---

## 12. DailyHighlight (Value Object)

```java
/**
 * í•˜ë£¨ í•˜ì´ë¼ì´íŠ¸ - ê²½ê¸° í•˜ì´ë¼ì´íŠ¸ì²˜ëŸ¼ í¸ì§‘
 */
public record DailyHighlight(
    MvpPeriod mvpPeriod,
    List<CrisisEvent> crisisEvents,
    String aiSuggestion
) {}

public record MvpPeriod(
    Instant startTime,
    Instant endTime,
    Duration duration,
    SessionId sessionId
) {
    public String toDisplayString() {
        // "ì˜¤ëŠ˜ì˜ MVP êµ¬ê°„: 14:10~14:32 (22ë¶„ ë¬´ì¤‘ë‹¨)"
        return String.format("ì˜¤ëŠ˜ì˜ MVP êµ¬ê°„: %s~%s (%dë¶„ ë¬´ì¤‘ë‹¨)",
            formatTime(startTime),
            formatTime(endTime),
            duration.toMinutes()
        );
    }
}

public record CrisisEvent(
    Instant stoppedAt,
    Instant resumedAt,
    InterruptionReason reason,
    SessionId sessionId
) {
    public String toDisplayString() {
        // "ìœ„ê¸° ìˆœê°„: 15:05 Stop â†’ 15:12 Resume (ìœ í˜¹ ì´ë²¤íŠ¸ ë°œìƒ)"
        return String.format("ìœ„ê¸° ìˆœê°„: %s Stop â†’ %s Resume (%s)",
            formatTime(stoppedAt),
            formatTime(resumedAt),
            reason.getDisplayName()
        );
    }
}
```

---

## 13. Penalty (Aggregate Root)

```java
/**
 * íŒ¨ë„í‹° - AIê°€ ìƒì„±í•œ í‘ì—­ì‚¬
 */
public class Penalty {
    private PenaltyId id;
    private UserId userId;
    private SessionId sessionId;
    private BetId betId;
    
    private PenaltyType type;
    private String aiGeneratedContent;
    private PenaltyContext context;
    
    private Instant createdAt;
    private boolean isArchived;
    private boolean isViewed;
    
    public static Penalty create(
            UserId userId,
            SessionId sessionId,
            BetId betId,
            PenaltyContext context
    ) {
        Penalty penalty = new Penalty();
        penalty.id = PenaltyId.generate();
        penalty.userId = userId;
        penalty.sessionId = sessionId;
        penalty.betId = betId;
        penalty.type = PenaltyType.WEAK_HUMAN_DIARY;
        penalty.context = context;
        penalty.createdAt = Instant.now();
        penalty.isArchived = true;
        penalty.isViewed = false;
        return penalty;
    }
    
    public void generateContent(String aiContent) {
        this.aiGeneratedContent = aiContent;
    }
    
    public void markViewed() {
        this.isViewed = true;
    }
}

public enum PenaltyType {
    WEAK_HUMAN_DIARY,    // ë‚˜ì•½í•œ ì¸ê°„ì˜ ì¼ê¸°
    MINOR_PUNISHMENT     // ì‚¬ì†Œí•œ ë²Œì¹™
}

/**
 * AI í‘ì—­ì‚¬ ìƒì„±ìš© ì»¨í…ìŠ¤íŠ¸
 */
public record PenaltyContext(
    String originalPledge,
    Duration targetDuration,
    Duration actualDuration,
    int finalStaminaPercent,
    int finalGaugePercent,
    String failReason,
    List<InterruptionSummary> interruptions
) {}

public record InterruptionSummary(
    InterruptionReason reason,
    Duration duration,
    int staminaConsumed
) {}
```

---

## 14. Character (Aggregate Root)

```java
/**
 * ìºë¦­í„° - ì™¸í˜• ë° ìƒíƒœ ë³€í™”
 */
public class Character {
    private CharacterId id;
    private UserId userId;
    private CharacterState state;
    private CharacterAppearance appearance;
    private Instant lastUpdatedAt;
    
    public static Character create(UserId userId) {
        Character character = new Character();
        character.id = CharacterId.generate();
        character.userId = userId;
        character.state = CharacterState.NORMAL;
        character.appearance = CharacterAppearance.initial();
        character.lastUpdatedAt = Instant.now();
        return character;
    }
    
    public void updateState(StudyDay studyDay) {
        int focusHours = (int) studyDay.getTotalFocusTime().toHours();
        int winRatio = studyDay.getWinCount() * 100 
                     / Math.max(1, studyDay.getTotalSessions());
        
        this.state = determineState(focusHours, winRatio);
        this.appearance = appearance.evolve(state);
        this.lastUpdatedAt = Instant.now();
    }
    
    private CharacterState determineState(int focusHours, int winRatio) {
        if (focusHours >= 6 && winRatio >= 80) return CharacterState.ENERGETIC;
        if (focusHours >= 4 && winRatio >= 60) return CharacterState.HAPPY;
        if (focusHours >= 2) return CharacterState.NORMAL;
        if (focusHours >= 1) return CharacterState.TIRED;
        return CharacterState.EXHAUSTED;
    }
}

public enum CharacterState {
    ENERGETIC,   // í™œê¸°ì°¸ (ìµœìƒ)
    HAPPY,       // í–‰ë³µ
    NORMAL,      // ë³´í†µ
    TIRED,       // ì§€ì¹¨
    EXHAUSTED,   // íƒˆì§„
    SLEEPING     // ì ë“¦
}

public record CharacterAppearance(
    String spriteKey,
    String animationState,
    Map<String, String> accessories
) {
    public static CharacterAppearance initial() {
        return new CharacterAppearance("default", "idle", Map.of());
    }
    
    public CharacterAppearance evolve(CharacterState state) {
        String newAnimation = switch (state) {
            case ENERGETIC -> "energetic_idle";
            case HAPPY -> "happy_idle";
            case NORMAL -> "idle";
            case TIRED -> "tired_idle";
            case EXHAUSTED -> "exhausted_idle";
            case SLEEPING -> "sleeping";
        };
        return new CharacterAppearance(spriteKey, newAnimation, accessories);
    }
}
```

---

## 15. ì‹œê°í™” ë„ë©”ì¸ (Projection)

```java
/**
 * ë³„ - StudyDayì˜ ì‹œê°í™” íˆ¬ì˜ (ì½ê¸° ì „ìš©)
 */
public record Star(
    LocalDate date,
    double brightness,           // ê³µë¶€ëŸ‰ â†’ ë°ê¸° (0.0 ~ 1.0)
    double size,                 // ê³µë¶€ëŸ‰ â†’ í¬ê¸°
    List<String> colors,         // íƒœê·¸ë“¤ì˜ ìƒ‰ìƒ
    StarType type,
    Position position,
    boolean hasNebulaEffect,     // ì´ˆì‹ ì„± íš¨ê³¼
    PenaltyId penaltyId          // ë¸”ë™í™€ì¸ ê²½ìš° í‘ì—­ì‚¬ ì°¸ì¡°
) {
    public static Star fromStudyDay(StudyDay day, Position position) {
        double hours = day.getTotalFocusTime().toHours();
        
        return new Star(
            day.getDate(),
            Math.min(1.0, hours / 8.0),           // 8ì‹œê°„ = ìµœëŒ€ ë°ê¸°
            Math.min(50.0, 10.0 + hours * 5.0),   // í¬ê¸° ê³„ì‚°
            new ArrayList<>(day.getTagColors()),
            day.getStarType(),
            position,
            day.getStarType() == StarType.SUPERNOVA,
            null  // ë¸”ë™í™€ì´ë©´ ë³„ë„ ì¡°íšŒ
        );
    }
}

public record Position(double x, double y) {}

/**
 * ë³„ìë¦¬ - ì—°ì† Streak ì‹œê°í™”
 */
public record Constellation(
    List<Star> connectedStars,
    int streakDays,
    String name,
    List<Connection> connections
) {
    public record Connection(Position from, Position to) {}
}

/**
 * ì€í•˜ìˆ˜ - ì „ì²´ í•™ìŠµ ê¸°ë¡ ì‹œê°í™”
 */
public record Galaxy(
    UserId userId,
    List<Star> allStars,
    List<Constellation> constellations,
    GalaxyStats stats
) {}

public record GalaxyStats(
    int totalStars,
    int totalBlackholes,
    int longestStreak,
    Duration totalFocusTime
) {}
```

---

## 16. ë„ë©”ì¸ ì´ë²¤íŠ¸

```java
// === ì„¸ì…˜ ì´ë²¤íŠ¸ ===
public record SessionStartedEvent(
    SessionId sessionId,
    UserId userId,
    String pledge,
    Duration targetDuration,
    Set<String> tagNames,
    Instant occurredAt
) implements DomainEvent {}

public record SessionPausedEvent(
    SessionId sessionId,
    InterruptionReason reason,
    int staminaBefore,
    Instant occurredAt
) implements DomainEvent {}

public record SessionResumedEvent(
    SessionId sessionId,
    Duration interruptionDuration,
    int staminaConsumed,
    int staminaAfter,
    Instant occurredAt
) implements DomainEvent {}

public record SessionCompletedEvent(
    SessionId sessionId,
    UserId userId,
    BetResult betResult,
    Duration actualFocusTime,
    int finalStamina,
    int finalGauge,
    Duration longestContinuousFocus,
    int earnedExp,
    Instant occurredAt
) implements DomainEvent {}

// === ë² íŒ… ì´ë²¤íŠ¸ ===
public record BetWonEvent(
    BetId betId,
    SessionId sessionId,
    UserId userId,
    Instant occurredAt
) implements DomainEvent {}

public record BetLostEvent(
    BetId betId,
    SessionId sessionId,
    UserId userId,
    String failReason,
    Instant occurredAt
) implements DomainEvent {}

// === íŒ¨ë„í‹° ì´ë²¤íŠ¸ ===
public record PenaltyCreatedEvent(
    PenaltyId penaltyId,
    UserId userId,
    SessionId sessionId,
    Instant occurredAt
) implements DomainEvent {}

public record PenaltyViewedEvent(
    PenaltyId penaltyId,
    UserId userId,
    Instant occurredAt
) implements DomainEvent {}

// === í•˜ë£¨ ì´ë²¤íŠ¸ ===
public record StudyDayFinalizedEvent(
    StudyDayId studyDayId,
    UserId userId,
    LocalDate date,
    StarType starType,
    Duration totalFocusTime,
    Instant occurredAt
) implements DomainEvent {}

// === Streak ì´ë²¤íŠ¸ ===
public record StreakExtendedEvent(
    UserId userId,
    int currentStreak,
    Instant occurredAt
) implements DomainEvent {}

public record StreakBrokenEvent(
    UserId userId,
    int previousStreak,
    Instant occurredAt
) implements DomainEvent {}

// === ë ˆë²¨ì—… ì´ë²¤íŠ¸ ===
public record LevelUpEvent(
    UserId userId,
    int previousLevel,
    int newLevel,
    Instant occurredAt
) implements DomainEvent {}

// === ìºë¦­í„° ì´ë²¤íŠ¸ ===
public record CharacterStateChangedEvent(
    CharacterId characterId,
    UserId userId,
    CharacterState previousState,
    CharacterState newState,
    Instant occurredAt
) implements DomainEvent {}
```

---

## 17. ERD

```sql
-- =============================================
--                  ì‚¬ìš©ì
-- =============================================
CREATE TABLE users (
    id UUID PRIMARY KEY,
    nickname VARCHAR(50) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    level INT DEFAULT 1,
    experience_points BIGINT DEFAULT 0,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

-- =============================================
--                  íƒœê·¸
-- =============================================
CREATE TABLE tags (
    id UUID PRIMARY KEY,
    user_id UUID NOT NULL REFERENCES users(id),
    name VARCHAR(50) NOT NULL,
    color_hex VARCHAR(7) NOT NULL,
    created_at TIMESTAMP NOT NULL,
    UNIQUE(user_id, name)
);

-- =============================================
--                  í•˜ë£¨ (ë³„)
-- =============================================
CREATE TABLE study_days (
    id UUID PRIMARY KEY,
    user_id UUID NOT NULL REFERENCES users(id),
    date DATE NOT NULL,
    total_focus_seconds BIGINT DEFAULT 0,
    total_sessions INT DEFAULT 0,
    win_count INT DEFAULT 0,
    lose_count INT DEFAULT 0,
    star_type VARCHAR(20),
    tag_colors JSONB DEFAULT '[]',
    streak_continued BOOLEAN DEFAULT FALSE,
    current_streak INT DEFAULT 0,
    highlight_json JSONB,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL,
    UNIQUE(user_id, date)
);

-- =============================================
--                  ì„¸ì…˜
-- =============================================
CREATE TABLE sessions (
    id UUID PRIMARY KEY,
    user_id UUID NOT NULL REFERENCES users(id),
    study_day_id UUID NOT NULL REFERENCES study_days(id),
    
    -- ê¸°ë³¸ ì •ë³´
    pledge TEXT NOT NULL,
    target_duration_seconds BIGINT NOT NULL,
    status VARCHAR(20) NOT NULL,
    
    -- ì‹œê°„
    started_at TIMESTAMP NOT NULL,
    ended_at TIMESTAMP,
    actual_focus_seconds BIGINT,
    
    -- ìŠ¤íƒœë¯¸ë‚˜ (ìƒì¡´ ìì›, 100â†’0)
    stamina_initial INT DEFAULT 100,
    stamina_current INT DEFAULT 100,
    
    -- ê²Œì´ì§€ (ì§‘ì¤‘ë„, 0â†’100)
    gauge_initial INT DEFAULT 0,
    gauge_current INT DEFAULT 0,
    longest_continuous_focus_seconds BIGINT DEFAULT 0,
    
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

-- ì„¸ì…˜-íƒœê·¸ ì—°ê²°
CREATE TABLE session_tags (
    session_id UUID NOT NULL REFERENCES sessions(id),
    tag_id UUID NOT NULL REFERENCES tags(id),
    PRIMARY KEY (session_id, tag_id)
);

-- =============================================
--                  ì¤‘ë‹¨ ê¸°ë¡
-- =============================================
CREATE TABLE interruptions (
    id UUID PRIMARY KEY,
    session_id UUID NOT NULL REFERENCES sessions(id),
    reason VARCHAR(20) NOT NULL,
    stopped_at TIMESTAMP NOT NULL,
    resumed_at TIMESTAMP,
    duration_seconds INT,
    stamina_consumed INT NOT NULL,
    stamina_after INT NOT NULL,
    created_at TIMESTAMP NOT NULL
);

-- =============================================
--                  ë² íŒ…
-- =============================================
CREATE TABLE bets (
    id UUID PRIMARY KEY,
    session_id UUID UNIQUE NOT NULL REFERENCES sessions(id),
    target_duration_seconds BIGINT NOT NULL,
    pledge_content TEXT NOT NULL,
    result VARCHAR(10),
    fail_reason VARCHAR(100),
    judged_at TIMESTAMP,
    created_at TIMESTAMP NOT NULL
);

-- =============================================
--                  íŒ¨ë„í‹° (í‘ì—­ì‚¬)
-- =============================================
CREATE TABLE penalties (
    id UUID PRIMARY KEY,
    user_id UUID NOT NULL REFERENCES users(id),
    session_id UUID NOT NULL REFERENCES sessions(id),
    bet_id UUID NOT NULL REFERENCES bets(id),
    penalty_type VARCHAR(30) NOT NULL,
    ai_generated_content TEXT,
    context_json JSONB NOT NULL,
    is_archived BOOLEAN DEFAULT TRUE,
    is_viewed BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP NOT NULL
);

-- =============================================
--                  ìºë¦­í„°
-- =============================================
CREATE TABLE characters (
    id UUID PRIMARY KEY,
    user_id UUID UNIQUE NOT NULL REFERENCES users(id),
    state VARCHAR(20) NOT NULL,
    appearance_json JSONB NOT NULL,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

-- =============================================
--                  ì¸ë±ìŠ¤
-- =============================================
CREATE INDEX idx_sessions_user_id ON sessions(user_id);
CREATE INDEX idx_sessions_study_day_id ON sessions(study_day_id);
CREATE INDEX idx_sessions_status ON sessions(status);
CREATE INDEX idx_study_days_user_date ON study_days(user_id, date);
CREATE INDEX idx_interruptions_session_id ON interruptions(session_id);
CREATE INDEX idx_penalties_user_id ON penalties(user_id);
```

---

## 18. ìŠ¤íƒœë¯¸ë‚˜ ì†Œëª¨ ì˜ˆì‹œí‘œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìŠ¤íƒœë¯¸ë‚˜ ì†Œëª¨ ê³„ì‚°í‘œ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ê³µì‹: ê¸°ë³¸ë¹„ìš© Ã— (ì¤‘ë‹¨ì‹œê°„ / ëª©í‘œì„¸ì…˜ì‹œê°„) Ã— 100                    â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ì‚¬ìœ      â”‚ ê¸°ë³¸ë¹„ìš©  â”‚  5ë¶„ ì¤‘ë‹¨ ì‹œ ì†Œëª¨ëŸ‰                     â”‚ â”‚
â”‚  â”‚           â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚           â”‚          â”‚ 30ë¶„ ì„¸ì…˜ â”‚ 60ë¶„ ì„¸ì…˜ â”‚ 120ë¶„ ì„¸ì…˜       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ í™”ì¥ì‹¤    â”‚   5%     â”‚   0.8%   â”‚   0.4%   â”‚   0.2%           â”‚ â”‚
â”‚  â”‚ íœ´ì‹      â”‚  10%     â”‚   1.7%   â”‚   0.8%   â”‚   0.4%           â”‚ â”‚
â”‚  â”‚ ì™¸ë¶€ ë°©í•´  â”‚  15%     â”‚   2.5%   â”‚   1.3%   â”‚   0.6%           â”‚ â”‚
â”‚  â”‚ ë”´ì§“      â”‚  25%     â”‚   4.2%   â”‚   2.1%   â”‚   1.0%           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â†’ ê¸´ ì„¸ì…˜ì¼ìˆ˜ë¡ ê°™ì€ ì¤‘ë‹¨ì— ê´€ëŒ€í•¨                                  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 19. ì„¸ì…˜ íë¦„ ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì„¸ì…˜ ì§„í–‰ ì˜ˆì‹œ (ëª©í‘œ: 60ë¶„)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì‹œì‘                                                         â”‚   â”‚
â”‚  â”‚ â€¢ ìŠ¤íƒœë¯¸ë‚˜: 100%                                             â”‚   â”‚
â”‚  â”‚ â€¢ ê²Œì´ì§€: 0% (ìµœì¥ ì—°ì†: 0ë¶„)                                â”‚   â”‚
â”‚  â”‚ â€¢ ë‹¤ì§: "ì˜¤ëŠ˜ì€ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ 3ê°œ í’€ê¸°!"                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 25ë¶„ ì§‘ì¤‘ â†’ íœ´ì‹(5ë¶„) ì¤‘ë‹¨                                   â”‚   â”‚
â”‚  â”‚ â€¢ ìŠ¤íƒœë¯¸ë‚˜: 100% â†’ 99% (-0.8%)                               â”‚   â”‚
â”‚  â”‚ â€¢ ê²Œì´ì§€: 0% â†’ 42% (ìµœì¥ ì—°ì†: 25ë¶„)                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 15ë¶„ ì§‘ì¤‘ â†’ ë”´ì§“(10ë¶„) ì¤‘ë‹¨                                  â”‚   â”‚
â”‚  â”‚ â€¢ ìŠ¤íƒœë¯¸ë‚˜: 99% â†’ 95% (-4.2%)                                â”‚   â”‚
â”‚  â”‚ â€¢ ê²Œì´ì§€: 42% ìœ ì§€ (15ë¶„ < 25ë¶„)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 45ë¶„ ì§‘ì¤‘ â†’ ì™„ë£Œ!                                            â”‚   â”‚
â”‚  â”‚ â€¢ ìŠ¤íƒœë¯¸ë‚˜: 95% (1% ì´ìƒ âœ“)                                  â”‚   â”‚
â”‚  â”‚ â€¢ ê²Œì´ì§€: 75% (ìµœì¥ ì—°ì†: 45ë¶„ ê°±ì‹ !)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AI ì‹¬íŒ ê²°ê³¼                                                 â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚ â€¢ ì‹¤ì œ ì§‘ì¤‘: 85ë¶„ â‰¥ ëª©í‘œ 60ë¶„ âœ“                              â”‚   â”‚
â”‚  â”‚ â€¢ ìŠ¤íƒœë¯¸ë‚˜: 95% â‰¥ 1% âœ“                                       â”‚   â”‚
â”‚  â”‚ â€¢ ë² íŒ… ê²°ê³¼: WIN! ğŸ‰                                         â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚ â€¢ ê²Œì´ì§€: 75% â‰¥ 70% â†’ ë³´ë„ˆìŠ¤ ê²½í—˜ì¹˜ +50                      â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚ ì´ ê²½í—˜ì¹˜: 85(ê¸°ë³¸) + 100(ìŠ¹ë¦¬) + 50(ë³´ë„ˆìŠ¤) = 235 EXP       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---
